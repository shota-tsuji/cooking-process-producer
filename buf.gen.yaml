version: v2
clean: true
managed:
  enabled: true
  #override:
  #  - file_option: python_package
  #    value: adaptor.process.grpc
plugins:
  # Standard Python Protobuf plugin
  - remote: buf.build/protocolbuffers/python:v32.0
    out: backend_python/src/gen

  # Python type hint plugin (optional, but recommended for better type checking)
  - remote: buf.build/protocolbuffers/pyi:v28.3
    out: backend_python/src/gen

  # gRPC Python plugin (if you are using gRPC services)
  # This version should match the 'grpcio' version in your Python environment
  - remote: buf.build/grpc/python:v1.74.1
    out: backend_python/src/gen
  - remote: buf.build/community/neoeinstein-tonic:v0.4.1
    out: backend_rust/src/gen/proto/cooking/v1
    opt:
      - compile_well_known_types
      - extern_path=.google.protobuf=::pbjson_types
      - default_package_filename=adaptor.process.grpc
#inputs:
#  - directory: proto